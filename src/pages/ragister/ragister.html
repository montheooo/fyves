<ion-header>

  <ion-navbar>
    <ion-title>Ragister </ion-title>
  </ion-navbar>
</ion-header>

<ion-content class="bg-img" *ngIf="name == null">
  <div padding class="container-bottom">
    <div class="main-content">
      <div class="container-logo" padding="" text-center="">
        <img src="assets/imgs/logo.png">
      </div>
    </div>
    <form [formGroup]="authForm">
      <ion-card>
        <ion-card-content>
          <div class="errormsg">
            <div *ngIf="username.errors && username.touched">
              <p>Username is required.</p>
            </div>
            <div *ngIf="email.errors && email.touched">
              <p>Email is required.</p>
            </div>
            <div *ngIf="password.errors && password.touched">
              <p>Password is required.</p>
            </div>
            <div *ngIf="cnfpass.errors && cnfpass.touched">
              <p>Confirm password is required.</p>
            </div>
          </div>
            <ion-list>
              <ion-item>
                <ion-label><ion-icon ios="ios-person" md="md-person"></ion-icon></ion-label>
                <ion-input id="username" type="text"   [formControl]="username" placeholder="Username" name="username" [(ngModel)]="newuser.username"></ion-input>
              </ion-item>
                <ion-item>
                  <ion-label><ion-icon ios="ios-mail" md="md-mail"></ion-icon></ion-label>
                  <ion-input id="email" type="email" [formControl]="email" placeholder="Email" name="email" [(ngModel)]="newuser.email"></ion-input>
                </ion-item>
              
              <ion-item>
                <ion-label><ion-icon ios="ios-call" md="md-call"></ion-icon></ion-label>
                <ion-input id="phone" type="phone" [formControl]="phone" placeholder="entrez votre numero de telephone" name="phone" [(ngModel)]="newuser.phone"></ion-input>
              </ion-item>

                 <ion-list>
              <ion-item>
                <ion-label>choisir un role</ion-label>
                <ion-select id="role" type="role" [formControl]="role" placeholder="" name="role" [(ngModel)]="newuser.role">
                  <ion-option value="Administrateur">Administrateur</ion-option>
                  <ion-option  value="personnel">personnel</ion-option>
                  <ion-option value="Client">Client</ion-option>
                  <ion-option  value="Superviseur">Superviseur</ion-option>
          
                </ion-select>
              </ion-item>
            </ion-list>
                <ion-item>
                    <ion-label><ion-icon ios="ios-unlock" md="md-unlock"></ion-icon></ion-label>
                    <ion-input id="password" [formControl]="password" type="{{passwordtype}}"  placeholder="Password" name="password" [(ngModel)]="newuser.password"></ion-input>]
                    <button ion-button class="eye-icon-btn" type="button" item-right (click)="managePassword()"><ion-icon name="{{passeye}}"></ion-icon></button>
                </ion-item>
                <ion-item>
                    <ion-label><ion-icon ios="ios-unlock" md="md-unlock"></ion-icon></ion-label>
                    <ion-input id="cnfpass" [formControl]="cnfpass" type="{{cnfpasswordtype}}" placeholder="Confirm Password" name="cnfpass" [(ngModel)]="newuser.cnfpassword"></ion-input>
                    <button ion-button class="eye-icon-btn" type="button" item-right (click)="managecnfPassword()"><ion-icon name="{{cnfpasseye}}"></ion-icon></button>
                </ion-item>
                <!-- <ion-item> -->
                <div class="button-container">
                  <button ion-button full round outline color="dark" (click)="doSignup()"  [disabled]="!authForm.valid" *ngIf="name == null">Sign Up</button>
                </div>
                <!-- </ion-item>
                <a (click)="forgePassword()"><b>Forget Login Detail</b></a> -->
            </ion-list>
        </ion-card-content>
      </ion-card>
    </form >
  </div>
</ion-content>




<ion-content class="bg-img" *ngIf="name != null">
  <div padding class="container-bottom">
    <div class="main-content">
      <div class="container-logo" padding="" text-center="">
        <img src="assets/imgs/logo.png">
      </div>
    </div>
    <form [formGroup]="authForm">
      <ion-card>
        <ion-card-content>
          <div class="errormsg">
            <div *ngIf="username.errors && username.touched">
              <p>Username is required.</p>
            </div>
            <div *ngIf="email.errors && email.touched">
              <p>Email is required.</p>
            </div>
            <div *ngIf="password.errors && password.touched">
              <p>Password is required.</p>
            </div>
            <div *ngIf="cnfpass.errors && cnfpass.touched">
              <p>Confirm password is required.</p>
            </div>
          </div>
            <ion-list>
              <ion-item>
                <ion-label><ion-icon ios="ios-person" md="md-person"></ion-icon></ion-label>
                <ion-input id="username" type="text"   [formControl]="username" placeholder="{{name.displayName}}" name="username" [(ngModel)]="newuser.username"></ion-input>
              </ion-item>
                <ion-item>
                  <ion-label><ion-icon ios="ios-mail" md="md-mail"></ion-icon></ion-label>
                  <ion-input id="email" type="email" [formControl]="email" placeholder="{{name.phone}}" name="email" [(ngModel)]="newuser.email"></ion-input>
                </ion-item>
              
              <ion-item>
                <ion-label><ion-icon ios="ios-call" md="md-call"></ion-icon></ion-label>
                <ion-input id="phone" type="phone" [formControl]="phone" placeholder="{{name.phone}}" name="phone" [(ngModel)]="newuser.phone"></ion-input>
              </ion-item>

                 <ion-list>
              <ion-item>
                <ion-label>choisir un role</ion-label>
                <ion-select id="role" type="role" [formControl]="role" placeholder="" name="role" [(ngModel)]="newuser.role">
                  <ion-option value="Administrateur">Administrateur</ion-option>
                  <ion-option  value="personnel">personnel</ion-option>
                  <ion-option value="Client">Client</ion-option>
                  <ion-option  value="Superviseur">Superviseur</ion-option>
          
                </ion-select>
              </ion-item>
            </ion-list>
                <ion-item>
                    <ion-label><ion-icon ios="ios-unlock" md="md-unlock"></ion-icon></ion-label>
                    <ion-input id="password" [formControl]="password" type="{{passwordtype}}"  placeholder="Password" name="password" [(ngModel)]="newuser.password"></ion-input>]
                    <button ion-button class="eye-icon-btn" type="button" item-right (click)="managePassword()"><ion-icon name="{{passeye}}"></ion-icon></button>
                </ion-item>
                <ion-item>
                    <ion-label><ion-icon ios="ios-unlock" md="md-unlock"></ion-icon></ion-label>
                    <ion-input id="cnfpass" [formControl]="cnfpass" type="{{cnfpasswordtype}}" placeholder="Confirm Password" name="cnfpass" [(ngModel)]="newuser.cnfpassword"></ion-input>
                    <button ion-button class="eye-icon-btn" type="button" item-right (click)="managecnfPassword()"><ion-icon name="{{cnfpasseye}}"></ion-icon></button>
                </ion-item>
                <!-- <ion-item> -->
                <div class="button-container">
                  <button ion-button full round outline color="dark" (click)="Modifier()"  [disabled]="!authForm.valid" >Modifier</button>
                </div>
                <!-- </ion-item>
                <a (click)="forgePassword()"><b>Forget Login Detail</b></a> -->
            </ion-list>
        </ion-card-content>
      </ion-card>
    </form >
  </div>
</ion-content>
